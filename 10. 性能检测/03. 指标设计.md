## 指标

- 延迟
  - 服务请求的事件
  - 用户体验
- 通讯量
  - 流量
  - 服务量
- 错误
  - 错误请求的频率
  - 定位和发现故障和问题
- 饱和度
  - 影响服务状态的受限制的资源，比如memory
  - 负载情况

## 主系统的监控

- 线上服务系统 Online-serving systems
  - 特点
    - 即时响应
    - web服务器
  - 主要分析对象
    - 请求time
    - 出错count
- 线下服务系统 Offline processing
  - 特点
    - 长时间作业，不需要等待response
    - 批处理计算框架Spark
  - 主要分析对象
    - 最后处理时间
    - 当前处理数量
    - items数量
    - 队列长度
- 批处理作业 Batch jobs
  - 特点
    - 一次性
    - 数据分析 MapReduce
  - 主要分析对象
    - 执行时间
    - 耗时
    - 处理的记录数量

## 子系统的监控

- Libraries
  - 调用次数
  - 成功次数
  - 出错次数
  - 调用时延
- 日志 Logging
  - 日志的发生频率、时间长短
- Failures
  - 错误
- 线程池
  - 排队的请求数
  - 正在使用的thread数量、总线程count
  - 正在处理的任务count
- 缓存
  - 请求数
  - 命中数
  - 总时延
